<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numerical Analysis Project - Abdelwahid</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; margin: 0; padding: 15px; color: #333; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #1a73e8; margin-bottom: 30px; }
        .section-label { font-size: 1.2rem; font-weight: bold; margin: 25px 0 10px; display: block; border-right: 5px solid #1a73e8; padding-right: 10px; }
        
        /* تنسيق صندوق الكود ليكون مطابقاً لـ VS Code */
        pre { border-radius: 8px; overflow: hidden; margin: 0; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
        code { font-family: 'Consolas', 'Monaco', monospace !important; font-size: 14px !important; direction: ltr !important; text-align: left !important; line-height: 1.5; }
        
        .chart-box { margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 5px; background: #fff; }
        canvas { width: 100% !important; height: 500px !important; }
        .footer { text-align: center; margin-top: 40px; font-size: 0.8rem; color: #888; }
        ul { list-style-type: none; padding: 0; }
    </style>
</head>
<body>

<div class="container">
    <h1>Numerical Analysis Project</h1>
    <ul style="text-align: center; font-weight: bold;">
        <li>: the group  </li>
        <li>Abd elouahid kherchache 242431801205</li>
        <li>yasmine terki 242431749516</li>
        <li>Khelfallah anias 242431689402</li>
    </ul>
    <p style="text-align: center;">تمثيل طرق إيجاد الجذور: Dichotomy, Fixed Point, Newton-Raphson</p>

    <span class="section-label">1. كود الكامل (Python Code):</span>
    <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
import math

# Function and derivative
def f(x):
    return x**3 - 2*x - 5

def df(x):
    return 3*x**2 - 2

# Convergence order
def convergence_order(values):
    if len(values) < 4:
        return None

    x_star = values[-1]
    p_vals = []

    for i in range(2, len(values)-1):
        e1 = abs(values[i+1] - x_star)
        e2 = abs(values[i] - x_star)
        e3 = abs(values[i-1] - x_star)

        if e1 > 0 and e2 > 0 and e3 > 0:
            try:
                p = math.log(e1/e2) / math.log(e2/e3)
                if not math.isnan(p) and not math.isinf(p):
                    p_vals.append(p)
            except:
                pass

    if len(p_vals) == 0:
        return None

    return sum(p_vals) / len(p_vals)

# Dichotomy (Bisection)
def dichotomy(a, b, eps):
    if f(a)*f(b) >= 0:
        raise ValueError("Invalid interval")
    values = []
    n = 0
    while (b - a)/2 > eps:
        c = (a + b)/2
        values.append(c)
        n += 1
        if f(a)*f(c) < 0:
            b = c
        else:
            a = c
    root = (a + b)/2
    values.append(root)
    return root, n, values

# Fixed Point
def g(x):
    return (5 + 2*x)**(1/3)

def fixed_point(x0, eps, max_iter=1000):
    values = [x0]
    n = 0
    while n < max_iter:
        x1 = g(x0)
        values.append(x1)
        n += 1
        if abs(x1 - x0) < eps:
            return x1, n, values
        x0 = x1
    raise ValueError("No convergence")

# Newton-Raphson
def newton_raphson(x0, eps, max_iter=1000):
    values = [x0]
    n = 0
    while n < max_iter:
        x1 = x0 - f(x0)/df(x0)
        values.append(x1)
        n += 1
        if abs(x1 - x0) < eps:
            return x1, n, values
        x0 = x1
    raise ValueError("No convergence")

# Main Execution
eps = 1e-6
rd, nd, vd = dichotomy(1, 3, eps)
rf, nf, vf = fixed_point(2, eps)
rn, nn, vn = newton_raphson(2, eps)

print("Comparison Finished.")</code></pre>

    <span class="section-label">2. التمثيل البياني المماثل لـ Matplotlib:</span>
    <div class="chart-box">
        <canvas id="mainChart"></canvas>
    </div>

    <div class="footer">
        developed by : <strong>Abd elouahid</strong> &copy; <span id="new">2025</span>
    </div>
</div>

<script>
    // تحديث السنة تلقائياً
    document.getElementById('new').textContent = new Date().getFullYear();
    // تفعيل تلوين الكود
    hljs.highlightAll();//this line is leabery for highlight the code syntax

    // إعداد البيانات للرسم البياني
    const xLabels = [];
    const fData = [];
    for (let i = 1; i <= 3; i += 0.05) {
        xLabels.push(i.toFixed(2));
        fData.push(Math.pow(i, 3) - 2 * i - 5);
    }

    const ctx = document.getElementById('mainChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: xLabels,
            datasets: [
                {
                    label: 'f(x)',
                    data: fData,
                    borderColor: 'black',
                    borderWidth: 2,
                    pointRadius: 0,
                    fill: false
                },
                {
                    label: 'Dichotomy',
                    data: [{x: "2.10", y: -0.1}], // نقطة تقريبية كما في الصورة
                    backgroundColor: 'red',
                    pointRadius: 7,
                    type: 'scatter'
                },
                {
                    label: 'Fixed Point',
                    data: [{x: "2.10", y: 0.1}], 
                    backgroundColor: 'blue',
                    pointRadius: 7,
                    type: 'scatter'
                },
                {
                    label: 'Newton-Raphson',
                    data: [{x: "2.10", y: 0}], 
                    backgroundColor: 'green',
                    pointRadius: 7,
                    type: 'scatter'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: { display: true, title: { display: true, text: 'X Axis' }, grid: { display: true } },
                y: { display: true, title: { display: true, text: 'f(x)' }, grid: { display: true }, min: -6, max: 16 }
            },
            plugins: {
                title: { display: true, text: 'Comparison of Root-Finding Methods' }
            }
        }
    });
</script>

</body>
</html>
